<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Cliente</title>
    <link rel="stylesheet" href="css/cadastro.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
    <style>
        .mensagem-erro {
            color: red;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <section class="container">
        <section class="header">
            <h2>Cadastro de acesso</h2>
        </section>
        <form action="/api/clientes" method="POST" id="form" class="form">
            <section class="form-control">
                <label for="nome">Nome</label>
                <input
                    type="text"
                    id="nome"
                    name="nome_cliente"
                    placeholder="Ex: João da Silva"
                    value="<%= typeof formData !== 'undefined' ? formData.nome_cliente : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.nome_cliente) { %>
                    <span class="mensagem-erro"><%= errors.nome_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="email">Email</label>
                <input
                    type="email"
                    id="email"
                    name="email_cliente"
                    placeholder="exemplo@dominio.com"
                    value="<%= typeof formData !== 'undefined' ? formData.email_cliente : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.email_cliente) { %>
                    <span class="mensagem-erro"><%= errors.email_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="cpf">CPF</label>
                <input
                    type="text"
                    id="cpf"
                    name="cpf_cliente"
                    placeholder="000.000.000-00"
                    value="<%= typeof formData !== 'undefined' ? formData.cpf_cliente : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.cpf_cliente) { %>
                    <span class="mensagem-erro"><%= errors.cpf_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="senha">Senha</label>
                <input
                    type="password"
                    id="senha"
                    name="senha_cliente"
                    placeholder="Digite sua senha..."
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.senha_cliente) { %>
                    <span class="mensagem-erro"><%= errors.senha_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="datanasc">Data de Nascimento</label>
                <input
                    type="date"
                    id="datanasc"
                    name="datanasc_cliente"
                    placeholder="dd/mm/aaaa"
                    value="<%= typeof formData !== 'undefined' ? formData.datanasc_cliente : '' %>"
                    required
                />
                <% errors.forEach(error => { %>
                    <% if (error.path === 'datanasc_cliente') { %>
                        <span class="mensagem-erro"><%= error.msg %></span>
                    <% } %>
                <% }); %>
            </section>
     
            <section class="form-control">
                <label for="perfil">Perfil</label>
                <input
                    type="text"
                    id="perfil"
                    name="perfil_cliente"
                    placeholder="Digite seu perfil..."
                    value="<%= typeof formData !== 'undefined' ? formData.perfil_cliente : '' %>"
                />
                <% if (typeof errors !== 'undefined' && errors.perfil_cliente) { %>
                    <span class="mensagem-erro"><%= errors.perfil_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="telefone">Telefone</label>
                <input
                    type="text"
                    id="telefone"
                    name="telefone_cliente"
                    placeholder="(11) 98765-4321"
                    value="<%= typeof formData !== 'undefined' ? formData.telefone_cliente : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.telefone_cliente) { %>
                    <span class="mensagem-erro"><%= errors.telefone_cliente.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="cep">CEP</label>
                <input
                    type="text"
                    id="cep"
                    name="cep_endereco"
                    placeholder="00000-000"
                    value="<%= typeof formData !== 'undefined' ? formData.cep_endereco : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.cep_endereco) { %>
                    <span class="mensagem-erro"><%= errors.cep_endereco.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="numero">Número</label>
                <input
                    type="text"
                    id="numero"
                    name="numero_endereco"
                    placeholder="Digite o número..."
                    value="<%= typeof formData !== 'undefined' ? formData.numero_endereco : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.numero_endereco) { %>
                    <span class="mensagem-erro"><%= errors.numero_endereco.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="complemento">Complemento</label>
                <input
                    type="text"
                    id="complemento"
                    name="complemento_endereco"
                    placeholder="Digite o complemento..."
                    value="<%= typeof formData !== 'undefined' ? formData.complemento_endereco : '' %>"
                />
                <% if (typeof errors !== 'undefined' && errors.complemento_endereco) { %>
                    <span class="mensagem-erro"><%= errors.complemento_endereco.msg %></span>
                <% } %>
            </section>

            <section class="form-control">
                <label for="tipo_endereco">Tipo de Endereço</label>
                <input
                    type="text"
                    id="tipo_endereco"
                    name="tipo_endereco"
                    placeholder="Ex: Residencial, Comercial..."
                    value="<%= typeof formData !== 'undefined' ? formData.tipo_endereco : '' %>"
                    required
                />
                <% if (typeof errors !== 'undefined' && errors.tipo_endereco) { %>
                    <span class="mensagem-erro"><%= errors.tipo_endereco.msg %></span>
                <% } %>
            </section>

            <button type="submit" class="Iniciar">Cadastrar</button>
        </form>
    </section>

    <script src="https://kit.fontawesome.com/f9e19193d6.js" crossorigin="anonymous"></script>
    <!-- <script src="js/campo.js"></script> -->
</body>
</html>
